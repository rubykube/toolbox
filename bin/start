#! /bin/bash

set -xe

bin/stress_trading \
    --root-url http://localhost:3000 \
    --currencies usd,eur \
    --markets eurusd \
    --traders 20 \
    --orders 200 \
    --threads 10 \
    --api-v2-jwt-key LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBeHZpeVFPOU5IUmFRdEhKRytwMUsvUTdLR2Fra3p1cjk0aURUVGdkREdlVlArQ1g0Cm42ak51N2pxRFFBMEJEbHNFYXF1dzROT1VpZDljZ1ZqeHJxRWxMZlRaWnNFVUh5OGVRVFBjVnVZeW9GMVdlMjUKMUp1ZUtYdTJqTWt0WGVDaVFaSVdCU1hLcXFWOEEvTzliK3RlRERtT21DSWZJeEwzZ0lvZ3NZQWJNUlF4UUp3bgpSY3NHeGdoU0krWW5EMDdNcmxmaFJrdWxIS25BaVhOREhwREk2TktlTDBRaWhXN2p2OTF0OUxlZjdMTTczd2xOCm1pR05WU2E0SjB5ckJDcHJWcURNU0s0NlFVMnlMdEt2aDZlOFhuMXVqRldmakZ1Z0d0bGp0ZHN3OENGN2lwbnIKWUdPVEdSWFpLVTNIVmxtZkVTaHVuOTQ1M2lkQ3BNbm5rL1Jrd1FJREFRQUJBb0lCQUNOVzJKSWY3cHBULzYrTQovSDVXb1pNQXBYU1pUaWhTSkhXZFR1cDA3NzRSdEhwbWhCb1hhVE1HVE11eVZZcktpQjg3S1g4Z096RHNRcU9WCndYcnlkY25VUEgrM1lMVEs4czZyeEF4bU1HVUhTVWlIcUpIU2NlejhSQmdOUXptQlJGQlJHZ2dnQmpiNDNXWDIKVEpjc1BxLzlLUTVzUVF1QnV1UGhwSnppRy9KRFM0THJRb0JuNmZCcVZ5cTMvcFBrQU1kQnQ2VjFwc2UwOEdmZAovRDJSbUJ5U0dOazVXU0lFbmg1dEVjMWtsaHBOc2pVTVA1aitmR1NTZHo3N2ZYcitQZk01MlhTQi92bWgyaGdKClNsSFlFVkc5RkRGejlUYWNmVXBGakd2THpGcEJjTDcrd0V6OWVMOGJ0ZFdnbHE1Y2pOWDgxY2dLSU9WZElFSHkKdW5vdkVvRUNnWUVBOFRZQnR3akluRGM3MU5rVTBoNFQyYk5rZXFJT0xmRUd4UXdwRkZnSHhQT1hEVCtJbU5aRgp0SnBaR09zb1NwaTJHNG1aQ3RveUJmN3hvOWpzYkZDbG9ZNTR3cUVzQW9oTHQzeS9GSE9udndnYTJDSDFnZ25VCjdLNzQrZlpicEo5elVFRGs2QzVreUdIZkdNYmhRODRDUnUyeWJtY1ZQVGx2R1ViT0lGMDRxQjBDZ1lFQTB5dTEKUFNJMmNjT3FBMjFTUlYrcXYxdFFVdlF0dHBHYVc4MDBSbk12VmFNRWpWZ3lFcXZlRFhsZllQS0w2ZG1mbWF6cQp5dERlVi9DMlVKK2FOV2pXRGRjZHV0MzV5SjhnS08xNHVPdDY1OVVaeXJRWDFNbS9GK25LY3Q0Ym02cEk3MGYxCmJJRUxLR1RHQ2JsZ0dsY3VkR2pzSnl5bG1mTU85RzJUc29VcnRmVUNnWUVBdEI0cUJhMlBiK2RtekRnVjdoajcKcGJMcHN4RlVHVVpFVWR3VXlOWTdadnltclFQbVVvcWVucEFyUEFwTm1mYVM5ZGszNlB5cUlnUVFHTk9oSi9qSQoxZXozakE2aU9IbmlZRy9NbDg4TlVmOFJYSmR2SnQyRW5BREVkcE5hTjRIQnNBbmxaT05QNnJuNnlCdXFsdUU4Cm5nNWRFVWYwZWpWckdxcmV2UmdmZUprQ2dZQmFKa3luSHBYemx6NWJYQzVGSTRRM1VQcEhqNnA4U0VpSGJHRW0KdWtHNDQzRXNEanpDTDlFS0c0aVdVTFZlVGVPT3JYMUd2RWhQYnBuR2JYeGQxTFdkRHZySUxiOVc0R2ZRVVNDNgpnUHpsUDlwVTZQRkxqQjBpVGxKNUcwelo5YVpSVUh6N3AxTm1HUzlhTTJOTm0yNWZqL05RL2dSc1pwRTUxQlc3Cm5wSjhpUUtCZ1FDQ1JicFoxWXB3akgxSTB0SytyTyt2c1Z2REx1WS9tVGM4VHl0aXU3bUtUajVLOXZHU1FzengKbkQ3SUs5Mk5VRktwT1BiQ0MzbW1nWThobmF3a0lKTUhTc2NLU0RUejlmcC9qT29tbmtYd0w5Z2x5ZXhrbTg1MgpsU2xIZXJTZ0NoczVtamFPMkE4VTcwdnJDck02bUJwZkVoMTdQUnF5RTZuM2ExSWdmMWNKQVE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo= \
    --management-api-v2-jwt-key LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBeHZpeVFPOU5IUmFRdEhKRytwMUsvUTdLR2Fra3p1cjk0aURUVGdkREdlVlArQ1g0Cm42ak51N2pxRFFBMEJEbHNFYXF1dzROT1VpZDljZ1ZqeHJxRWxMZlRaWnNFVUh5OGVRVFBjVnVZeW9GMVdlMjUKMUp1ZUtYdTJqTWt0WGVDaVFaSVdCU1hLcXFWOEEvTzliK3RlRERtT21DSWZJeEwzZ0lvZ3NZQWJNUlF4UUp3bgpSY3NHeGdoU0krWW5EMDdNcmxmaFJrdWxIS25BaVhOREhwREk2TktlTDBRaWhXN2p2OTF0OUxlZjdMTTczd2xOCm1pR05WU2E0SjB5ckJDcHJWcURNU0s0NlFVMnlMdEt2aDZlOFhuMXVqRldmakZ1Z0d0bGp0ZHN3OENGN2lwbnIKWUdPVEdSWFpLVTNIVmxtZkVTaHVuOTQ1M2lkQ3BNbm5rL1Jrd1FJREFRQUJBb0lCQUNOVzJKSWY3cHBULzYrTQovSDVXb1pNQXBYU1pUaWhTSkhXZFR1cDA3NzRSdEhwbWhCb1hhVE1HVE11eVZZcktpQjg3S1g4Z096RHNRcU9WCndYcnlkY25VUEgrM1lMVEs4czZyeEF4bU1HVUhTVWlIcUpIU2NlejhSQmdOUXptQlJGQlJHZ2dnQmpiNDNXWDIKVEpjc1BxLzlLUTVzUVF1QnV1UGhwSnppRy9KRFM0THJRb0JuNmZCcVZ5cTMvcFBrQU1kQnQ2VjFwc2UwOEdmZAovRDJSbUJ5U0dOazVXU0lFbmg1dEVjMWtsaHBOc2pVTVA1aitmR1NTZHo3N2ZYcitQZk01MlhTQi92bWgyaGdKClNsSFlFVkc5RkRGejlUYWNmVXBGakd2THpGcEJjTDcrd0V6OWVMOGJ0ZFdnbHE1Y2pOWDgxY2dLSU9WZElFSHkKdW5vdkVvRUNnWUVBOFRZQnR3akluRGM3MU5rVTBoNFQyYk5rZXFJT0xmRUd4UXdwRkZnSHhQT1hEVCtJbU5aRgp0SnBaR09zb1NwaTJHNG1aQ3RveUJmN3hvOWpzYkZDbG9ZNTR3cUVzQW9oTHQzeS9GSE9udndnYTJDSDFnZ25VCjdLNzQrZlpicEo5elVFRGs2QzVreUdIZkdNYmhRODRDUnUyeWJtY1ZQVGx2R1ViT0lGMDRxQjBDZ1lFQTB5dTEKUFNJMmNjT3FBMjFTUlYrcXYxdFFVdlF0dHBHYVc4MDBSbk12VmFNRWpWZ3lFcXZlRFhsZllQS0w2ZG1mbWF6cQp5dERlVi9DMlVKK2FOV2pXRGRjZHV0MzV5SjhnS08xNHVPdDY1OVVaeXJRWDFNbS9GK25LY3Q0Ym02cEk3MGYxCmJJRUxLR1RHQ2JsZ0dsY3VkR2pzSnl5bG1mTU85RzJUc29VcnRmVUNnWUVBdEI0cUJhMlBiK2RtekRnVjdoajcKcGJMcHN4RlVHVVpFVWR3VXlOWTdadnltclFQbVVvcWVucEFyUEFwTm1mYVM5ZGszNlB5cUlnUVFHTk9oSi9qSQoxZXozakE2aU9IbmlZRy9NbDg4TlVmOFJYSmR2SnQyRW5BREVkcE5hTjRIQnNBbmxaT05QNnJuNnlCdXFsdUU4Cm5nNWRFVWYwZWpWckdxcmV2UmdmZUprQ2dZQmFKa3luSHBYemx6NWJYQzVGSTRRM1VQcEhqNnA4U0VpSGJHRW0KdWtHNDQzRXNEanpDTDlFS0c0aVdVTFZlVGVPT3JYMUd2RWhQYnBuR2JYeGQxTFdkRHZySUxiOVc0R2ZRVVNDNgpnUHpsUDlwVTZQRkxqQjBpVGxKNUcwelo5YVpSVUh6N3AxTm1HUzlhTTJOTm0yNWZqL05RL2dSc1pwRTUxQlc3Cm5wSjhpUUtCZ1FDQ1JicFoxWXB3akgxSTB0SytyTyt2c1Z2REx1WS9tVGM4VHl0aXU3bUtUajVLOXZHU1FzengKbkQ3SUs5Mk5VRktwT1BiQ0MzbW1nWThobmF3a0lKTUhTc2NLU0RUejlmcC9qT29tbmtYd0w5Z2x5ZXhrbTg1MgpsU2xIZXJTZ0NoczVtamFPMkE4VTcwdnJDck02bUJwZkVoMTdQUnF5RTZuM2ExSWdmMWNKQVE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo= \
    --management-api-v2-jwt-signer barong \
    --report-yaml reports/legacy-stress.yml
