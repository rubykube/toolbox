#! /bin/bash

set -xe

bin/stress_trading \
    --root-url http://localhost:3000 \
    --currencies usd,eur \
    --markets eurusd \
    --traders 2 \
    --orders 10 \
    --threads 2 \
    --api-v2-jwt-key LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBNGdHcURyU1ZrUkY1UVEyaG03MUYzRURkVUlQc0xhYVY2cmw2OWRmclQvY1Z3TlRmCmtZQ2VNSlZEU0kva0xQbDgrUitlT1dxWGM5ZkFkdWsrcExZWVJwQ0MvOXdJTVo1SEhsY1AzY01NOUlQeG1pVjkKMnhEclhEZmFSYVJBUE4zakgxRTdzWFhaMlZGNGRHSlRreUpnL3E4TjN4L3RrMlJGa21IbnpYbS9kUzUxajllUQp5SnF0eEMyV2xuYlN4THR1ajVZdjZ5RFJjVXpRbm9SNWZnRFBqNkdDNVlUWkltN1FRVG9IVTRISm03bkJlSjhBCjJneGN6a0FpZFBCZ0hUQTNWVW5aaWV4aEhtWkpBUDVPaG1UeENpcit6N2h3U0JKQ2RMVENLSm00MzFZcmh6SXUKMVFqNWRqc2wyWmxENmMxTHZjME9jMnNBaWhJa2RnOTRFbjU0MXdJREFRQUJBb0lCQVFET2UvN0cySzRkai8xYwpOZndFc2ZSMXVyMTRwazdObG5rNXJxUnNvQXpaVGtHTm4rOXluRFBxNXpSRncxRVExaEFiKzRzdm9mY2xXMlQ0ClB6bUFldTNLNnBVRTloNTJWc2xiS3VmUUVEaHgzV3FMRHQzaG01K3M3VXA2ZmdwQ2tlYkQ0Zy9Mbm9TZVRCVGwKSUVDREdOSE5YbG9xRkoyV0gvS0FQdnJ0ZStJMFI3cVNrQVZ1OEpBWko3WGRvVDBlMVNpOUtQTkRPSHNlZmJPTApuRFc0TVBoUEFiU3VaNFJXWnF0eUpxVnF0ejVXelAwUy9aRjVwTEJKOC9GVGZiUFBaQjlqSU9HK05JNVlldDk5ClcvTkpQdTVodUlVaWxtTDMrTk9wTkF1QlFPeEU2c0taVlhMM05XdzZhM0h3VWN6dnQxeXM0YjhCMndzNjVpbjAKQ3BHNDM5U2hBb0dCQVBDZEliTEpTV0VqZ1NLdVZQeEExZmdGaFB2d20wQlQwNGZrTUcrcCtuY0hLQkwxVW15ZwphdzBnMDVTaXBHSUtETzAwUkVZSlNPTUtKRW04UTFsUzlHL0dnc08rc21GQ1l1SWhzVEZmL2xiTHROUVBtcUg5CmVHVXFNcUVGTXgvUW80dzV2em5lR3dBV0Y4TXJQMndEaG5vQVUxbzhZbFE0YllkUjVqaklCclZMQW9HQkFQQjEKYVBXZW9hR3ZpVDV3cmErNlFQNnRzMWhzR09oa0htRFJxQTRNK3VjRzg4VHZUb3VCYi80eGdxYXMxOU1tS0Z1Rwo0eFVEemNlbmg4TnFLaW80Zlk4ZjBaVUFwTGF4VGVwWi9sSjREYXgwY0xNQmlKNUxCNHFLOTVEZ2xOWFFJQ21vClMzTXhFeU9pb2RweWk5eUN0UnZHRVQ3UHRqeWVESUZCYTZFenlLOGxBb0dCQU5MUkNlNkkrRGNaRVpNZVphM2kKN05aemw1SGF2VncrVmc4eGV0TExmbno5a3pvUklkZTFNalo5ZFlROGdJUzV3NXV0ZU1oWWFEa3M4S0IrU0JBaQpZN0x2bmpEOWkzTTE1RWUzTjNaSVlpTVFObTY3QVVRL1BsWjlBNEViZWpDODhCN3psYjJSQWQwd2ZqOXRUQk5LCmYyK3ppMVI3cGJlZS9UQmNMTGZCWWtkREFvR0FFZ3B0RG9pUlRlVXlvZG1vWGxmV0NvV1R3QjJVSE5OdUtBdHkKMVdNSjdBMXNlcWtOdG8vR2pFYkFxNnFxSXJCcE5MekJDdEdYUGRTRzdoVm9CblRvanJWdmJ3TjJXREtqU3VMbgpudDVkQUVSWU5FWDRMeEFvQjYvM2RRbzBnSG8xLzRvZDV3Mldod1RycWMwUVMwSVBQbjgweWdhaGdKakhEV2VRCklLOFc3blVDZ1lCVzR1TkNpUmNvZG91a2RsYytBM2hMZEkwcTNtYUVTY1g3V1hOb2h1cWVEakJiSzI0SjBXOWQKNzhjczM0d1kwaHpzaC9ybUJFZGNUWnF4emhNdk44eUlJcG1aRzJzOFlIVS9kTVJFZzhvUWNnVTBOVjdBYzczSApJaTJabVpzQzMxbG5TR3dzNXFCaUh4TFR4a0w2V1J5ZkdGOE1PSkwvaDlzS2V6MTZTeVMyR0E9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo= \
    --management-api-v2-jwt-key LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBNGdHcURyU1ZrUkY1UVEyaG03MUYzRURkVUlQc0xhYVY2cmw2OWRmclQvY1Z3TlRmCmtZQ2VNSlZEU0kva0xQbDgrUitlT1dxWGM5ZkFkdWsrcExZWVJwQ0MvOXdJTVo1SEhsY1AzY01NOUlQeG1pVjkKMnhEclhEZmFSYVJBUE4zakgxRTdzWFhaMlZGNGRHSlRreUpnL3E4TjN4L3RrMlJGa21IbnpYbS9kUzUxajllUQp5SnF0eEMyV2xuYlN4THR1ajVZdjZ5RFJjVXpRbm9SNWZnRFBqNkdDNVlUWkltN1FRVG9IVTRISm03bkJlSjhBCjJneGN6a0FpZFBCZ0hUQTNWVW5aaWV4aEhtWkpBUDVPaG1UeENpcit6N2h3U0JKQ2RMVENLSm00MzFZcmh6SXUKMVFqNWRqc2wyWmxENmMxTHZjME9jMnNBaWhJa2RnOTRFbjU0MXdJREFRQUJBb0lCQVFET2UvN0cySzRkai8xYwpOZndFc2ZSMXVyMTRwazdObG5rNXJxUnNvQXpaVGtHTm4rOXluRFBxNXpSRncxRVExaEFiKzRzdm9mY2xXMlQ0ClB6bUFldTNLNnBVRTloNTJWc2xiS3VmUUVEaHgzV3FMRHQzaG01K3M3VXA2ZmdwQ2tlYkQ0Zy9Mbm9TZVRCVGwKSUVDREdOSE5YbG9xRkoyV0gvS0FQdnJ0ZStJMFI3cVNrQVZ1OEpBWko3WGRvVDBlMVNpOUtQTkRPSHNlZmJPTApuRFc0TVBoUEFiU3VaNFJXWnF0eUpxVnF0ejVXelAwUy9aRjVwTEJKOC9GVGZiUFBaQjlqSU9HK05JNVlldDk5ClcvTkpQdTVodUlVaWxtTDMrTk9wTkF1QlFPeEU2c0taVlhMM05XdzZhM0h3VWN6dnQxeXM0YjhCMndzNjVpbjAKQ3BHNDM5U2hBb0dCQVBDZEliTEpTV0VqZ1NLdVZQeEExZmdGaFB2d20wQlQwNGZrTUcrcCtuY0hLQkwxVW15ZwphdzBnMDVTaXBHSUtETzAwUkVZSlNPTUtKRW04UTFsUzlHL0dnc08rc21GQ1l1SWhzVEZmL2xiTHROUVBtcUg5CmVHVXFNcUVGTXgvUW80dzV2em5lR3dBV0Y4TXJQMndEaG5vQVUxbzhZbFE0YllkUjVqaklCclZMQW9HQkFQQjEKYVBXZW9hR3ZpVDV3cmErNlFQNnRzMWhzR09oa0htRFJxQTRNK3VjRzg4VHZUb3VCYi80eGdxYXMxOU1tS0Z1Rwo0eFVEemNlbmg4TnFLaW80Zlk4ZjBaVUFwTGF4VGVwWi9sSjREYXgwY0xNQmlKNUxCNHFLOTVEZ2xOWFFJQ21vClMzTXhFeU9pb2RweWk5eUN0UnZHRVQ3UHRqeWVESUZCYTZFenlLOGxBb0dCQU5MUkNlNkkrRGNaRVpNZVphM2kKN05aemw1SGF2VncrVmc4eGV0TExmbno5a3pvUklkZTFNalo5ZFlROGdJUzV3NXV0ZU1oWWFEa3M4S0IrU0JBaQpZN0x2bmpEOWkzTTE1RWUzTjNaSVlpTVFObTY3QVVRL1BsWjlBNEViZWpDODhCN3psYjJSQWQwd2ZqOXRUQk5LCmYyK3ppMVI3cGJlZS9UQmNMTGZCWWtkREFvR0FFZ3B0RG9pUlRlVXlvZG1vWGxmV0NvV1R3QjJVSE5OdUtBdHkKMVdNSjdBMXNlcWtOdG8vR2pFYkFxNnFxSXJCcE5MekJDdEdYUGRTRzdoVm9CblRvanJWdmJ3TjJXREtqU3VMbgpudDVkQUVSWU5FWDRMeEFvQjYvM2RRbzBnSG8xLzRvZDV3Mldod1RycWMwUVMwSVBQbjgweWdhaGdKakhEV2VRCklLOFc3blVDZ1lCVzR1TkNpUmNvZG91a2RsYytBM2hMZEkwcTNtYUVTY1g3V1hOb2h1cWVEakJiSzI0SjBXOWQKNzhjczM0d1kwaHpzaC9ybUJFZGNUWnF4emhNdk44eUlJcG1aRzJzOFlIVS9kTVJFZzhvUWNnVTBOVjdBYzczSApJaTJabVpzQzMxbG5TR3dzNXFCaUh4TFR4a0w2V1J5ZkdGOE1PSkwvaDlzS2V6MTZTeVMyR0E9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo= \
    --management-api-v2-jwt-signer barong \
    --report-yaml report
